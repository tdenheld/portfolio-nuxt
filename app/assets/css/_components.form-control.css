/*/  ========================================================================
//   #FORM CONTROL
//   ======================================================================== */

.form-control {
  @apply grid gap-2;
}

.form-control__label {
  @apply font-medium;
}

.form-control__input {
  @apply w-full
  px-4
  pb-0.5
  bg-surface-pale
  text-base
  font-normal
  border-b
  border-front-pale
  rounded-md
  appearance-none
  touch-manipulation
  focus:outline-2
  focus:outline-primary
  focus:-outline-offset-1
  focus:border-transparent;

  &:not(textarea) {
    @apply h-11;
  }

  &:is(textarea) {
    @apply py-3;
  }

  &:user-invalid {
    @apply pr-9
    bg-critical-surface
    border-critical
    focus:outline-critical;
  }

  &:-webkit-autofill {
    /* Hack the ugly autofill colors */
    transition: background-color 99999999s ease 0s;
    box-shadow: inset 0 0 0 999px theme('colors.primary-surface');
    -webkit-text-fill-color: var(--color-front);
  }

  .form-control:has(select) & {
    @apply pr-9;
  }
}

.form-control__helptext {
  @apply text-sm
  text-front-gentle
  -mt-1
  mb-0.5;
}

.form-control__optional {
  @apply text-sm
  text-front-gentle
  font-normal
  ml-1;
}

.form-control__iconError {
  @apply hidden
  absolute
  right-3
  bottom-3.5
  text-critical
  size-4;

  .form-control:has(input:user-invalid) & {
    @apply block;
  }
}

.form-control__chevron {
  @apply absolute
  right-3
  bottom-[13px]
  text-front-gentle
  size-5;

  .form-control:has(input:user-invalid) & {
    @apply right-9;
  }
}

.form-control__error {
  @apply hidden
  text-xs
  text-critical
  -mt-0.5;

  .form-control:has(input:user-invalid) & {
    @apply block;
  }
}
